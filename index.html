<!DOCTYPE html>
<html>
  <head>
    <title>Gestionnaire de tâches</title>
  </head>
  <body>
    <h1>Gestionnaire de tâches</h1>
    
    <!-- Formulaire pour ajouter une nouvelle tâche -->
    <form>
      <label for="task">Nouvelle tâche :</label>
      <input type="text" id="task" name="task">
      <br>
      <label for="deadline">Délai :</label>
      <input type="date" id="deadline" name="deadline">
      <br>
      <button type="button" onclick="addTask()">Ajouter</button>
    </form>
    
    <!-- Liste des tâches ajoutées -->
    <ul id="taskList"></ul>
    
    <script>
      // Tableau pour stocker les tâches
      let tasks = [];
      
      // Fonction pour ajouter une tâche
      function addTask() {
        let taskInput = document.getElementById("task");
        let deadlineInput = document.getElementById("deadline");
        
        // Vérifier si les champs sont remplis
        if (taskInput.value === "" || deadlineInput.value === "") {
          alert("Veuillez remplir tous les champs.");
          return;
        }
        
        // Ajouter la tâche au tableau
        let task = {
          name: taskInput.value,
          deadline: new Date(deadlineInput.value)
        };
        tasks.push(task);
        
        // Réinitialiser les champs du formulaire
        taskInput.value = "";
        deadlineInput.value = "";
        
        // Mettre à jour la liste des tâches
        updateTaskList();
      }
      
      // Fonction pour mettre à jour la liste des tâches
      function updateTaskList() {
        let taskList = document.getElementById("taskList");
        taskList.innerHTML = "";
        
        // Parcourir toutes les tâches et les ajouter à la liste
        for (let i = 0; i < tasks.length; i++) {
          let task = tasks[i];
          let li = document.createElement("li");
          li.innerHTML = task.name + " - Délai : " + task.deadline.toDateString();
          let timeLeft = document.createElement("span");
          timeLeft.innerHTML = getTimeLeft(task.deadline);
          li.appendChild(timeLeft);
          taskList.appendChild(li);
        }
      }
      
      // Fonction pour calculer le temps restant jusqu'au délai d'une tâche
      function getTimeLeft(deadline) {
        let now = new Date();
        let timeDiff = deadline - now;
        
        // Convertir la différence de temps en jours, heures, minutes et secondes
        let daysLeft = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
        let hoursLeft = Math.floor((timeDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        let minsLeft = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
        let secsLeft = Math.floor((timeDiff % (1000 * 60)) / 1000);
      }

        // Fonction pour mettre à jour le temps restant toutes les secondes
        function updateTimers() {
        // Parcourir toutes les tâches et mettre à jour leur temps restant
        for (let i = 0; i < tasks.length; i++) {
            let task = tasks[i];
            let li = document.getElementById("task" + i);
            let timeLeft = li.querySelector("span");
            timeLeft.innerHTML = getTimeLeft(task.deadline);
        }
        }

        // Démarrer le timer
        let intervalId;
        function startTimer() {
        // Désactiver le bouton de démarrage si le timer est déjà en cours
        if (intervalId) {
            return;
        }
        
        // Mettre à jour le temps restant toutes les secondes
        intervalId = setInterval(updateTimers, 1000);
        }

        // Mettre en pause le timer
        function pauseTimer() {
        clearInterval(intervalId);
        intervalId = null;
        }

        // Réinitialiser le timer
        function resetTimer() {
        clearInterval(intervalId);
        intervalId = null;
        updateTimers();
        }
    </script>
  </body>
</html>
<style>
    body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    }

    h1 {
    text-align: center;
    }

    form {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 20px;
    }

    label {
    margin-right: 10px;
    }

    input[type="text"],
    input[type="date"],
    button[type="button"] {
    padding: 5px;
    margin-bottom: 10px;
    border-radius: 5px;
    }

    input[type="text"],
    input[type="date"] {
    width: 200px;
    }

    button[type="button"] {
    background-color: #4CAF50;
    color: white;
    }

    button[type="button"]:hover {
    cursor: pointer;
    background-color: #3e8e41;
    }

    ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
    }

    li {
    margin-bottom: 10px;
    padding: 10px;
    border-radius: 5px;
    background-color: #f2f2f2;
    }
</style>